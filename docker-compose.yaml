services:
  website:
    container_name: website
    image: golang:v1.16-alpine 
    ports:
      - '8080'
    expose:
      - '8080'
    environment:
      DBUSER: DBUSER
      DBPASS: DBPASS
    build:
      context: ..
      dockerfile: Dockerfile

  database:
    container_name: database  
    image: mysql
    restart: always
    volumes:
      - /var/lib/mysql
    environment:
       MYSQL_DATABASE: myusers
       MYSQL_USER: DBUSER
       MYSQL_PASSWORD: DBPASS
       MYSQL_ROOT_PASSWORD: DBPASS
    expose: 
      - '3306'


      
